{{set . "title" "account"}}
{{template "header.html" .}}

{{set . "active" "accounts"}}
{{template "navigation.html" .}}

<style>
    table td{font-size:12px;}
</style>

<div class="container">
  <div class="row">
    <div class="span6">{{template "flash.html" .}}</div>
  </div>
</div>

<div class="container">
  <p>
    <div class="col-sm-offset-2 col-sm-4">
      <a role="button" class="btn btn-primary" href="{{url "Accounts.New"}}">{{msg . "add"}}</a>
    </div>
  </p>
</div>

<div class="container">
<table
        data-toggle="table"
        class="table table-striped table-bordered table-condensed table-responsive"
		data-graph-type="line"
        data-show-toggle="true"
        data-show-columns="true"
        data-sort-name="name"
        data-sort-order="desc"
        data-id-field="id"
        data-url="{{url "Accounts.JsonData"}}">
    <thead>
      <tr>
        <th data-field="Name" data-halign="center" data-align="left" data-sortable="true">{{msg . "account"}}{{msg . "name"}}</th>
        <th data-field="Income" data-halign="center" data-align="left" data-sortable="true">{{msg . "account"}}{{msg . "income"}}</th>
        <th data-field="Expense" data-halign="center" data-align="left" data-sortable="true">{{msg . "account"}}{{msg . "expense"}}</th>
        <th data-field="Balance" data-halign="center" data-align="left" data-sortable="true">{{msg . "account"}}{{msg . "balance"}}</th>
      </tr>
    </thead>
</table>
</div>

<div id="container-hc" class="col-sm-offset-1 col-lg-10 col-md-11 col-sm-11 col-xs-12">
<script src="http://cdn.hcharts.cn/highcharts/themes/grid-light.js"></script>

</div>
<script type="text/javascript">
    $(document).ready(function () {
        var chart = {
            type: 'line'
        };
        var title = {
            text: '月统计'
        };
        var xAxis = {
			type: 'datetime',
            minTickInterval: 3600*24*30*1000,//time in milliseconds
            minRange: 3600*24*30*1000,
            ordinal: false, //this sets the fixed time formats                 
            categories: ['Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas']
        };
        var yAxis = {
            allowDecimals: false,
            min: 0
        };
        var tooltip = {
            enabled: true,
			shared: true,
            crosshairs: true,
            formatter: function () {
                return '<b>' + this.series.name + '</b><br/>' + this.x + ': ' + this.y + '°C';
            }
        };
        var plotOptions = {
            line: {
                dataLabels: {
                    enabled: true
                },
                enableMouseTracking: true
            }
        };
        var credits = {
            enabled: false
        };
        var series = [{
            name: 'John',
            data: [5, 3, 4, 7, 2],
            stack: 'male'
        }, {
            name: 'Joe',
            data: [3, 4, 4, 2, 5],
            stack: 'male'
        }, {
            name: 'Jane',
            data: [2, 5, 6, 2, 1],
            stack: 'female'
        }, {
            name: 'Janet',
            data: [3, 0, 4, 4, 3],
            stack: 'female'
        }];

        var json = {};
        json.chart = chart;
        json.title = title;
        json.xAxis = xAxis;
        json.yAxis = yAxis;
        json.tooltip = tooltip;
        json.plotOptions = plotOptions;
        json.credits = credits;
        json.series = series;
		
        $.getJSON('http://www.highcharts.com/samples/data/jsonp.php?filename=analytics.csv&callback=?',
            function (csv) {
                var data = {
                    csv: csv
                };
                json.data = data;
                $('#container-hc').highcharts(json);
            });
    });
</script>

{{template "footer.html" .}}